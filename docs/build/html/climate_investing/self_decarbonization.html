

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Portfolio Self-Decarbonization &#8212; Climate Risks in Finance 0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'climate_investing/self_decarbonization';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Integrating the Transition Dimension" href="transition.html" />
    <link rel="prev" title="Project 2: Portfolio Alignment and Sectors Decarbonization Pathways" href="project2.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">Climate Risks in Finance 0.1 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction: Climate Risk &amp; Equity Investing</a></li>
<li class="toctree-l1"><a class="reference internal" href="climateinvesting.html">Part 1: Climate Investing in Equity Markets</a></li>
<li class="toctree-l1"><a class="reference internal" href="portfolio_decarbonization.html">Portfolio Decarbonization as a Climate Risk Hedging Strategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="project1.html">Project 1: Sector Constraints in Portfolio Decarbonization</a></li>
<li class="toctree-l1"><a class="reference internal" href="portfolio_alignment.html">Portfolio Alignment with a Decarbonization Pathway</a></li>
<li class="toctree-l1"><a class="reference internal" href="project2.html">Project 2: Portfolio Alignment and Sectors Decarbonization Pathways</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Portfolio Self-Decarbonization</a></li>
<li class="toctree-l1"><a class="reference internal" href="transition.html">Integrating the Transition Dimension</a></li>
<li class="toctree-l1"><a class="reference internal" href="../climate_data/climate_data.html">Part 2: Advanced Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../climate_data/carbon_budget.html">The Basics of Carbon Metrics: Carbon Budget, Target and Trend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../climate_data/emissions_metrics.html">Advanced Carbon Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/climate_investing/self_decarbonization.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Portfolio Self-Decarbonization</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#decarbonization-backtesting">Decarbonization Backtesting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integrating-carbon-footprint-dynamics">Integrating Carbon Footprint Dynamics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-takeaways">Key Takeaways</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="portfolio-self-decarbonization">
<h1>Portfolio Self-Decarbonization<a class="headerlink" href="#portfolio-self-decarbonization" title="Permalink to this headline">#</a></h1>
<p>While we’ve seen that the adoption of portfolio alignment to a decarbonization pathway leads to a dynamic climate risk strategy, questions arise about the status of the portfolio time-varying decarbonization.</p>
<p>Indeed, the time-varying portfolio decarbonization can comes from (Barahhou et al., 2022):</p>
<ul class="simple">
<li><p>sequential decarbonization with successive rebalancements ie. an exogenous decarbonization</p></li>
<li><p>self-decarbonization ie. an endogenous decarbonization</p></li>
</ul>
<p>In our sense, a time-proofed climate risk integration strategy should mostly relies on self-decarbonization rather than decarbonization coming from successive rebalancements (ie. we must ensure that resulting portfolio has endogenized the decarbonization pathway and is on track with the NZE scenario).</p>
<p>In this part, we cover the concept of decarbonization backtesting and the self-decarbonization ratio, introduced by Barahhou et al. (2022). Then, we introduced the use of forward looking metrics such as the carbon footprint dynamics, as advocated by Le Guenedal and Roncalli (2022 <span id="id1">[<a class="reference internal" href="../references.html#id18" title="Théo Le Guenedal and Thierry Roncalli. Portfolio construction with climate risk measures. Available at SSRN 3999971, 2022.">LGR22</a>]</span>) and Barahhou et al. (2022) into the climate risk strategy in order to improve the self-decarbonization property of the portfolio.</p>
<section id="decarbonization-backtesting">
<h2>Decarbonization Backtesting<a class="headerlink" href="#decarbonization-backtesting" title="Permalink to this headline">#</a></h2>
<p>Let <span class="math notranslate nohighlight">\(CI(t,x;I_t)\)</span> be the carbon intensity of portfolio <span class="math notranslate nohighlight">\(x\)</span> calculated at time <span class="math notranslate nohighlight">\(t\)</span> with the information <span class="math notranslate nohighlight">\(I_t\)</span> available at time <span class="math notranslate nohighlight">\(t\)</span>. The portfolio <span class="math notranslate nohighlight">\(x(t)\)</span>’s WACI must satisfy the following constraint (Barahhou et al., 2022):</p>
<div class="amsmath math notranslate nohighlight" id="equation-366dd977-93bd-4cfe-bde0-7a8eba2ffe29">
<span class="eqno">(1)<a class="headerlink" href="#equation-366dd977-93bd-4cfe-bde0-7a8eba2ffe29" title="Permalink to this equation">#</a></span>\[\begin{equation}
CI(t, x(t); I_t) \leq (1 - \mathfrak{R}_{CI}(t_0,t))CI(t_0,b(t_0); I_{t_0})
\end{equation}\]</div>
<p>Where <span class="math notranslate nohighlight">\(b(t_0)\)</span> is the benchmark at time <span class="math notranslate nohighlight">\(t_0\)</span>.</p>
<p>Let’s know formulate this same constraint, but taking into account the fact that the portfolio is rebalanced at time <span class="math notranslate nohighlight">\(t+1\)</span> and we will choose a new portfolio <span class="math notranslate nohighlight">\(x(t+1)\)</span>. The new constraint is then:</p>
<div class="amsmath math notranslate nohighlight" id="equation-0f75ed16-e809-407d-b284-17037958ba80">
<span class="eqno">(2)<a class="headerlink" href="#equation-0f75ed16-e809-407d-b284-17037958ba80" title="Permalink to this equation">#</a></span>\[\begin{equation}
CI(t + 1, x(t+1); I_{t+1}) \leq (1 - \mathfrak{R}_{CI}(t_0, t+1))CI(t_0, b(t_0);I_{t_0})
\end{equation}\]</div>
<p>The information on the right hand scale are known (because we only need information from the starting date <span class="math notranslate nohighlight">\(I_{t_0}\)</span>). The information on the left hand scale depends on the information available in the future rebalance date <span class="math notranslate nohighlight">\(I_{t+1}\)</span>. We don’t have to rebalance (ie. adding carbon reduction by new sequential decarbonization in order to respect the constraint) if:</p>
<div class="amsmath math notranslate nohighlight" id="equation-ff9ec847-e594-41a0-96b4-72653d901933">
<span class="eqno">(3)<a class="headerlink" href="#equation-ff9ec847-e594-41a0-96b4-72653d901933" title="Permalink to this equation">#</a></span>\[\begin{equation}
CI(t + 1, x(t); I_{t+1}) \leq (1 - \mathfrak{R}_{CI}(t_0, t+1))CI(t_0, b(t_0);I_{t_0})
\end{equation}\]</div>
<p>That is if the portfolio <span class="math notranslate nohighlight">\(x(t)\)</span> (before the rebalance in <span class="math notranslate nohighlight">\(t+1\)</span>) has a WACI in <span class="math notranslate nohighlight">\(t+1\)</span> that respect the constraint. If not, we need to rebalance in <span class="math notranslate nohighlight">\(t+1\)</span> in order to obtain a new set of weights and a new portfolio <span class="math notranslate nohighlight">\(x(t+1)\)</span>.</p>
<p>The variation between two rebalancing dates <span class="math notranslate nohighlight">\(CI(t+1, x(t + 1);I_{t+1}) - CI(t, x(t), I_t)\)</span> is decomposed between two components:</p>
<ol class="arabic simple">
<li><p>The self-decarbonization <span class="math notranslate nohighlight">\(CI(t+1, x(t);I_{t+1}) - CI(t, x(t), I_t)\)</span> (the decarbonization due to issuers’ self-decarbonization)</p></li>
<li><p>The additional decarbonization with sequential decarbonization <span class="math notranslate nohighlight">\(CI(t+1, x(t + 1);I_{t+1}) - CI(t + 1, x(t), I_{t+1})\)</span> (the decarbonization achieved by rebalancing the portfolio from <span class="math notranslate nohighlight">\(x(t)\)</span> to <span class="math notranslate nohighlight">\(x(t+1)\)</span>)</p></li>
</ol>
<p>The self-decarbonization ratio is finally defined as (Barahhou et al., 2022):</p>
<div class="amsmath math notranslate nohighlight" id="equation-8427d2ab-e704-46d8-bec3-5f52676948c8">
<span class="eqno">(4)<a class="headerlink" href="#equation-8427d2ab-e704-46d8-bec3-5f52676948c8" title="Permalink to this equation">#</a></span>\[\begin{equation}
SR(t+1) = \frac{CI(t, x(t);I_{t}) - CI(t + 1, x(t), I_{t+1})}{CI(t, x(t);I_{t}) - CI(t + 1, x(t + 1), I_{t+1})}
\end{equation}\]</div>
<p>The higher value for the self-decarbonization ratio <span class="math notranslate nohighlight">\(SR(t+1)\)</span> is reached when we do not have to rebalance the portfolio, with the decarbonization achieved through self-decarbonization rather than sequential decarbonization. This is a first step towards the backesting of net zero portoflios.</p>
<p>To maximize the self-decarbonization ratio, we need to have an idea about the dynamics of the carbon footprint, that is an estimate of <span class="math notranslate nohighlight">\(CI(t+1, x(t); I_t)\)</span>.</p>
<p>To illustrate this concept of net zero backtesting with the use of the self-decarbonization ratio, let’s take this example from Barahhou et al. (2022):</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><span class="math notranslate nohighlight">\(s\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\((1 - \mathfrak{R}_{CI}(t_0, s))CI(t_0, b(t_0);I_{t_0})\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(CI(s, x(s); I_s)\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(CI(s + 1, x(s); I_{s+1})\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>t</p></td>
<td><p>100.0</p></td>
<td><p>100.0</p></td>
<td><p>99.0</p></td>
</tr>
<tr class="row-odd"><td><p>t + 1</p></td>
<td><p>93.0</p></td>
<td><p>93.0</p></td>
<td><p>91.2</p></td>
</tr>
<tr class="row-even"><td><p>t + 2</p></td>
<td><p>86.5</p></td>
<td><p>86.5</p></td>
<td><p>91.3</p></td>
</tr>
<tr class="row-odd"><td><p>t + 3</p></td>
<td><p>80.4</p></td>
<td><p>80.4</p></td>
<td><p>78.1</p></td>
</tr>
<tr class="row-even"><td><p>t + 4</p></td>
<td><p>74.8</p></td>
<td><p>74.8</p></td>
<td><p>74.2</p></td>
</tr>
<tr class="row-odd"><td><p>t + 5</p></td>
<td><p>69.6</p></td>
<td><p>69.6</p></td>
<td><p>70.7</p></td>
</tr>
<tr class="row-even"><td><p>t + 6</p></td>
<td><p>64.7</p></td>
<td><p>64.7</p></td>
<td><p>62.0</p></td>
</tr>
<tr class="row-odd"><td><p>t + 7</p></td>
<td><p>60.2</p></td>
<td><p>60.2</p></td>
<td><p>60.0</p></td>
</tr>
<tr class="row-even"><td><p>t + 8</p></td>
<td><p>55.9</p></td>
<td><p>55.9</p></td>
<td><p>58.3</p></td>
</tr>
<tr class="row-odd"><td><p>t + 9</p></td>
<td><p>52.0</p></td>
<td><p>52.0</p></td>
<td><p>53.5</p></td>
</tr>
<tr class="row-even"><td><p>t + 10</p></td>
<td><p>48.4</p></td>
<td><p>48.4</p></td>
<td><p>50.5</p></td>
</tr>
</tbody>
</table>
<p>Let’s apply this example in Python. First, we create a <code class="docutils literal notranslate"><span class="pre">NetZeroBacktesting</span></code> with the methods we need:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nd">@dataclass</span> 
<span class="k">class</span> <span class="nc">NetZeroBacktesting</span><span class="p">:</span>

  <span class="n">CI_s_star</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span> <span class="c1"># Targets</span>
  <span class="n">CI_s_x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span> <span class="c1"># Carbon Intensity of the portfolio x at s</span>
  <span class="n">CI_s_plus_one_x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span> <span class="c1"># Carbon intensity of the portfolio x at s+1</span>

  <span class="k">def</span> <span class="nf">get_self_decarbonization_ratio</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">sr_s</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CI_s_star</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
      <span class="n">sr</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CI_s_x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">CI_s_plus_one_x</span><span class="p">[</span><span class="n">t</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CI_s_x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">CI_s_x</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
      <span class="n">sr_s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sr</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">sr_s</span>

  <span class="k">def</span> <span class="nf">get_self_decarbonization</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">CI_s_plus_one_x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">CI_s_x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CI_s_x</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
    
  <span class="k">def</span> <span class="nf">get_sequential_decarbonization</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">CI_s_x</span><span class="p">[</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">CI_s_plus_one_x</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CI_s_x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
</pre></div>
</div>
<p>Then we can implement our example:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">CI_s_star</span> <span class="o">=</span> <span class="p">[</span><span class="mf">100.0</span><span class="p">,</span> <span class="mf">93.0</span><span class="p">,</span> <span class="mf">86.5</span><span class="p">,</span> <span class="mf">80.4</span><span class="p">,</span> <span class="mf">74.8</span><span class="p">,</span> <span class="mf">69.6</span><span class="p">,</span> <span class="mf">64.7</span><span class="p">,</span> <span class="mf">60.2</span><span class="p">,</span> <span class="mf">55.9</span><span class="p">,</span> <span class="mf">52.0</span><span class="p">,</span> <span class="mf">48.4</span><span class="p">]</span>
<span class="n">CI_s_x</span> <span class="o">=</span>  <span class="p">[</span><span class="mf">100.0</span><span class="p">,</span> <span class="mf">93.0</span><span class="p">,</span> <span class="mf">86.5</span><span class="p">,</span> <span class="mf">80.4</span><span class="p">,</span> <span class="mf">74.8</span><span class="p">,</span> <span class="mf">69.6</span><span class="p">,</span> <span class="mf">64.7</span><span class="p">,</span> <span class="mf">60.2</span><span class="p">,</span> <span class="mf">55.9</span><span class="p">,</span> <span class="mf">52.0</span><span class="p">,</span> <span class="mf">48.4</span><span class="p">]</span>
<span class="n">CI_s_plus_one_x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">99.0</span><span class="p">,</span> <span class="mf">91.2</span><span class="p">,</span> <span class="mf">91.3</span><span class="p">,</span> <span class="mf">78.1</span><span class="p">,</span> <span class="mf">74.2</span><span class="p">,</span> <span class="mf">70.7</span><span class="p">,</span> <span class="mf">62.0</span><span class="p">,</span> <span class="mf">60.0</span><span class="p">,</span> <span class="mf">58.3</span><span class="p">,</span> <span class="mf">53.5</span><span class="p">,</span> <span class="mf">50.5</span><span class="p">]</span>

<span class="n">test</span> <span class="o">=</span> <span class="n">NetZeroBacktesting</span><span class="p">(</span><span class="n">CI_s_star</span> <span class="o">=</span> <span class="n">CI_s_star</span><span class="p">,</span>
                          <span class="n">CI_s_x</span> <span class="o">=</span> <span class="n">CI_s_x</span><span class="p">,</span>
                          <span class="n">CI_s_plus_one_x</span> <span class="o">=</span> <span class="n">CI_s_plus_one_x</span><span class="p">)</span>
</pre></div>
</div>
<p>And let’s plot the results:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">self_decarbonization</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">get_self_decarbonization</span><span class="p">())</span>
<span class="n">negative_decarbonization</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">self_decarbonization</span><span class="p">))</span>
<span class="n">negative_decarbonization</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">self_decarbonization</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="n">self_decarbonization</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">self_decarbonization</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)]</span>
<span class="n">self_decarbonization</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">self_decarbonization</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">sequential_decarbonization</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">get_sequential_decarbonization</span><span class="p">())</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 

<span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;t+1&quot;</span><span class="p">,</span><span class="s2">&quot;t+2&quot;</span><span class="p">,</span> <span class="s2">&quot;t+3&quot;</span><span class="p">,</span><span class="s2">&quot;t+4&quot;</span><span class="p">,</span><span class="s2">&quot;t+5&quot;</span><span class="p">,</span><span class="s2">&quot;t+6&quot;</span><span class="p">,</span><span class="s2">&quot;t+7&quot;</span><span class="p">,</span><span class="s2">&quot;t+8&quot;</span><span class="p">,</span><span class="s2">&quot;t+9&quot;</span><span class="p">,</span><span class="s2">&quot;t+10&quot;</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">sequential_decarbonization</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Sequential decarbonization&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">self_decarbonization</span><span class="p">,</span>
       <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Self-decarbonization&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">negative_decarbonization</span><span class="p">,</span>
       <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Negative decarbonization&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="nzebacktestingsequential">
<img alt="../_images/nzebacktestingsequential.png" src="../_images/nzebacktestingsequential.png" />
<figcaption>
<p><span class="caption-text">Figure: Sequential versus self-decarbonization</span><a class="headerlink" href="#nzebacktestingsequential" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>In this example, we can see that almost all yearly portfolio decarbonization comes from the rebalancement process (sequential decarbonization). This is typically what we can expect by applying the PAB methodology. Indeed, because the PAB approach doesn’t integrate any information about carbon footprint dynamics, the PAB’s decarbonization is almost entirely due to sequential decarbonization.</p>
</section>
<section id="integrating-carbon-footprint-dynamics">
<h2>Integrating Carbon Footprint Dynamics<a class="headerlink" href="#integrating-carbon-footprint-dynamics" title="Permalink to this headline">#</a></h2>
<p>In the previous section, we have performed a portfolio alignment by considering a global decarbonization pathway for the portfolio, as recommended by the PAB approach. In this section, we consider the decarbonization path of the issuers, as in Le Guenedal and Roncalli (2022) and Barahhou et al. (2022). This approach should help in improving the self-decarbonization ratio of the portfolio.</p>
<p>In order to have an idea of the potential issuers carbon footprint dynamics, we can exploit the historical trajectory of the past carbon emissions. We can follow Le Guenedal et al. (2022) and estimate the associated linear trend model and project the future carbon emissions by assuming that the issuer will do the same efforts in the future than in the past.</p>
<p>Le Guenedal et al. (2022) define the carbon trend by considering the following linear constant trend model:</p>
<div class="amsmath math notranslate nohighlight" id="equation-325149d4-0f2f-4929-9eb3-df205301eb48">
<span class="eqno">(5)<a class="headerlink" href="#equation-325149d4-0f2f-4929-9eb3-df205301eb48" title="Permalink to this equation">#</a></span>\[\begin{equation}
CE(t) = \beta_0 + \beta_1 \cdot t + u(t)
\end{equation}\]</div>
<p>The parameters <span class="math notranslate nohighlight">\(\beta_0\)</span> and <span class="math notranslate nohighlight">\(\beta_1\)</span> can be estimated with the least squares methods on a sample of observations.</p>
<p>The projected carbon trajectory is then given by:</p>
<div class="amsmath math notranslate nohighlight" id="equation-aafbec7d-7fa9-450b-a707-fdf57a298ae9">
<span class="eqno">(6)<a class="headerlink" href="#equation-aafbec7d-7fa9-450b-a707-fdf57a298ae9" title="Permalink to this equation">#</a></span>\[\begin{equation}
CE^{Trend}(t) = \hat{CE}(t) = \hat{\beta_0} + \hat{\beta_1}t
\end{equation}\]</div>
<p>The underlying idea heare is to extrapolate the past trajectory. However, we need to reformulate our previous model. Indeed, it is not easy to interpret as <span class="math notranslate nohighlight">\(\hat{\beta_0} = \hat{CE(0)}\)</span> when <span class="math notranslate nohighlight">\(t = 0\)</span>. We can add a base year <span class="math notranslate nohighlight">\(t_0\)</span>, that converts our model to:</p>
<div class="amsmath math notranslate nohighlight" id="equation-6d5ba420-ae47-4ad4-bda4-a3ee4751e700">
<span class="eqno">(7)<a class="headerlink" href="#equation-6d5ba420-ae47-4ad4-bda4-a3ee4751e700" title="Permalink to this equation">#</a></span>\[\begin{equation}
CE(t) = \beta'_0 + \beta'_1(t - t_0) + u(t)
\end{equation}\]</div>
<p>And the carbon trajectory is now given by:</p>
<div class="amsmath math notranslate nohighlight" id="equation-72f13a14-46ee-45e0-84f3-eac59b6d9c27">
<span class="eqno">(8)<a class="headerlink" href="#equation-72f13a14-46ee-45e0-84f3-eac59b6d9c27" title="Permalink to this equation">#</a></span>\[\begin{equation}
CE^{Trend}(t) = \hat{\beta'_0} + \hat{\beta'_1}(t - t_0)
\end{equation}\]</div>
<p>This change is just a matter of facilitating the interpretration. Indeed, the two models are equivalent and give the same value <span class="math notranslate nohighlight">\(\hat{CE}(t)\)</span> with:</p>
<div class="amsmath math notranslate nohighlight" id="equation-bab6f378-ef20-4927-8e75-f8a24eff30c3">
<span class="eqno">(9)<a class="headerlink" href="#equation-bab6f378-ef20-4927-8e75-f8a24eff30c3" title="Permalink to this equation">#</a></span>\[\begin{equation}
\beta^{'}_0 = \beta_0 + \beta_1 t_0
\end{equation}\]</div>
<p>and</p>
<div class="amsmath math notranslate nohighlight" id="equation-51c43319-9d43-4b28-b88d-62e67558ce9b">
<span class="eqno">(10)<a class="headerlink" href="#equation-51c43319-9d43-4b28-b88d-62e67558ce9b" title="Permalink to this equation">#</a></span>\[\begin{equation}
\beta^{'}_1 = \beta_1
\end{equation}\]</div>
<p>The only change resulting from the new formulation is that now <span class="math notranslate nohighlight">\(\hat{\beta}'_0 = \hat{CE}(t_0)\)</span></p>
<p>Let’s implement this with an example in Python:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2007</span><span class="p">,</span> <span class="mi">2021</span><span class="p">)]</span>
<span class="n">emissions</span> <span class="o">=</span> <span class="p">[</span><span class="mf">57.8</span><span class="p">,</span> <span class="mf">58.4</span><span class="p">,</span> <span class="mf">57.9</span><span class="p">,</span> <span class="mf">55.1</span><span class="p">,</span>
            <span class="mf">51.6</span><span class="p">,</span> <span class="mf">48.3</span><span class="p">,</span> <span class="mf">47.1</span><span class="p">,</span> <span class="mf">46.1</span><span class="p">,</span>
            <span class="mf">44.4</span><span class="p">,</span> <span class="mf">42.7</span><span class="p">,</span> <span class="mf">41.4</span><span class="p">,</span> <span class="mf">40.2</span><span class="p">,</span> <span class="mf">41.9</span><span class="p">,</span> <span class="mf">45.0</span><span class="p">]</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">years</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">-</span> <span class="n">years</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">years</span><span class="p">))])</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">emissions</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">results</span><span class="o">.</span><span class="n">params</span>
</pre></div>
</div>
<p>Our estimates for <span class="math notranslate nohighlight">\(\hat{\beta_0}'\)</span> and <span class="math notranslate nohighlight">\(\hat{\beta_1}'\)</span> are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span>    <span class="mf">38.988571</span>
<span class="mi">0</span>        <span class="o">-</span><span class="mf">1.451209</span>
<span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</pre></div>
</div>
<p>And now we can define a function <code class="docutils literal notranslate"><span class="pre">forecast_carbon_emissions</span></code> for determining <span class="math notranslate nohighlight">\(CE^{Trend}(t)\)</span>:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">beta_0</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;const&quot;</span><span class="p">]</span>
<span class="n">beta_1</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">forecast_carbon_emissions</span><span class="p">(</span><span class="n">beta_0</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">beta_1</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
  <span class="n">carbon_trend</span> <span class="o">=</span> <span class="n">beta_0</span> <span class="o">+</span> <span class="n">beta_1</span> <span class="o">*</span> <span class="p">(</span><span class="n">t</span> <span class="o">-</span> <span class="mi">2020</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">carbon_trend</span>

<span class="n">forecast_carbon_emissions</span><span class="p">(</span><span class="n">beta_0</span> <span class="o">=</span> <span class="n">beta_0</span><span class="p">,</span>
                          <span class="n">beta_1</span> <span class="o">=</span> <span class="n">beta_1</span><span class="p">,</span>
                          <span class="n">t</span> <span class="o">=</span> <span class="mi">2025</span><span class="p">)</span>
</pre></div>
</div>
<p>And the result is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">31.73252747252748</span>
</pre></div>
</div>
<p>We can apply the same process on the carbon intensity <span class="math notranslate nohighlight">\(CI^{Trend}(t)\)</span>, rather than the carbon emissions level.
The optimization problem is the same as the previous optimization problem except that we include projected trends (of carbon intensity) in place of current intensities for the portfolio’s WACI:</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\begin{aligned}
&amp; x* = 
&amp; &amp; argmin \frac{1}{2} (x(t)-b(t))^T \Sigma(t)(x(t)-b(t))\\
&amp; \text{subject to}
&amp; &amp; 1_n^Tx = 1\\
&amp; &amp; &amp;  0_n \leq x \leq 1_n \\
&amp; &amp; &amp; CI^{trend}(x(t)) \leq (1 - \mathfrak{R}_{CI}(t_0,t))CI(b(t_0)) \\
\end{aligned}
\end{equation*}\]</div>
<p>In the second part of this course, we will introduce more advanced metrics, proposed by Le Guenedal et al. (2022).</p>
</section>
<section id="key-takeaways">
<h2>Key Takeaways<a class="headerlink" href="#key-takeaways" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>A time-proofed climate risk integration should relies mostly on self-decarbonization, rather than sequential decarbonization</p></li>
<li><p>Barahhou et al. (2022) introduced the concept of decarbonization backtesting and the self-decarbonization ratio</p></li>
<li><p>Improving the self-decarbonization ratio calls for the integration of forward looking metrics such as the carbon footprint dynamics for example</p></li>
<li><p>The second part of this course will focus on other advanced metrics that can be used in order to improve this self-decarbonization aspect of the portfolio</p></li>
</ul>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="project2.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Project 2: Portfolio Alignment and Sectors Decarbonization Pathways</p>
      </div>
    </a>
    <a class="right-next"
       href="transition.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Integrating the Transition Dimension</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#decarbonization-backtesting">Decarbonization Backtesting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integrating-carbon-footprint-dynamics">Integrating Carbon Footprint Dynamics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-takeaways">Key Takeaways</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner">
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Thomas Lorans
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022, Thomas Lorans.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div></div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>