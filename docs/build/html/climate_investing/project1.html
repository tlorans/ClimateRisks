

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Project 1: Emissions Data Retrieval with ChatGPT &#8212; Climate Risks in Finance 0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'climate_investing/project1';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Net Zero Backtesting" href="self_decarbonization.html" />
    <link rel="prev" title="Portfolio Alignment" href="portfolio_alignment.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">Climate Risks in Finance 0.1 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../intro/lowcarbon.html">Portfolio Decarbonization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/net_zero.html">Towards a Net Zero Strategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="net_zero_investing.html">Net Zero Investing</a></li>
<li class="toctree-l1"><a class="reference internal" href="portfolio_decarbonization_pathway.html">Portfolio Decarbonization Pathway</a></li>
<li class="toctree-l1"><a class="reference internal" href="portfolio_alignment.html">Portfolio Alignment</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Project 1: Emissions Data Retrieval with ChatGPT</a></li>
<li class="toctree-l1"><a class="reference internal" href="self_decarbonization.html">Net Zero Backtesting</a></li>
<li class="toctree-l1"><a class="reference internal" href="integratingtransition.html">Integrating the Transition Dimension</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/climate_investing/project1.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Project 1: Emissions Data Retrieval with ChatGPT</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#information-retrieval-with-the-react-framework">Information Retrieval with the ReAct Framework</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#emissions-extraction-with-chatgpt">Emissions Extraction with ChatGPT</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="project-1-emissions-data-retrieval-with-chatgpt">
<h1>Project 1: Emissions Data Retrieval with ChatGPT<a class="headerlink" href="#project-1-emissions-data-retrieval-with-chatgpt" title="Permalink to this headline">#</a></h1>
<p>Gathering data needed for portfolio decarbonization can be challenging for three reasons:</p>
<ul class="simple">
<li><p>Emissions reporting is not well-standardized yet, and not freely available in a centralized platform</p></li>
<li><p>Data disclosed by companies can be misleading (especially for Scope 3)</p></li>
<li><p>A majority of companies still doesn’t disclose any data about carbon emissions, or only disclose partial data (especially without Scope 3 reporting)</p></li>
</ul>
<p>In this part, we will test how ChatGPT can help in gathering emissions data.</p>
<p>First, you need to make sure that both <code class="docutils literal notranslate"><span class="pre">openai</span></code> and <code class="docutils literal notranslate"><span class="pre">langchain</span></code> are installed:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>!pip install openai
!pip install langchain
</pre></div>
</div>
<p>You need to declare your OpenAI API as an environment variable:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;OPENAI_API_KEY&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">openai_api_key</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;key.txt&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<section id="information-retrieval-with-the-react-framework">
<h2>Information Retrieval with the ReAct Framework<a class="headerlink" href="#information-retrieval-with-the-react-framework" title="Permalink to this headline">#</a></h2>
<p>Language models have demonstrated impressive capabilities across tasks in language understanding and abilities for reasoning (e.g. chain-of-thought prompting).</p>
<p>In a seminal paper, Yao et al. (2022) <span id="id1">[<a class="reference internal" href="../references.html#id39" title="Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik Narasimhan, and Yuan Cao. React: synergizing reasoning and acting in language models. arXiv preprint arXiv:2210.03629, 2022.">YZY+22</a>]</span> proposed a new paradigm combining reasoning and acting paradigms, on which large language models capabilities have been previously applied.</p>
<p>In this framework, actions lead to observation feedback from an external environment. Reasoning traces affect the internal state of the model by reasoning over the context and updating it with information to support future reasoning and acting.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">langchain</span></code> library uses this paradigm to allow ChatGPT interacting with its environment (eg. <code class="docutils literal notranslate"><span class="pre">tools</span></code>).</p>
<p>We illustrate it with an information retrieval task with <code class="docutils literal notranslate"><span class="pre">duckduckgo-search</span></code>.</p>
<p>You need first to install the <code class="docutils literal notranslate"><span class="pre">duckduckgo-search</span></code> package:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>!pip install duckduckgo-search
</pre></div>
</div>
<p>Let’s make a test with a simple search request:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.tools</span> <span class="kn">import</span> <span class="n">DuckDuckGoSearchRun</span>

<span class="n">search</span> <span class="o">=</span> <span class="n">DuckDuckGoSearchRun</span><span class="p">()</span>
<span class="n">search</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;Tesla stock price?&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We obtain the following result:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Get the latest Tesla Inc (TSLA) real-time quote, historical performance, charts, and other financial information to help you make more informed trading and investment decisions. Quotes Summary May 26, 2023 6:00 am 8:00 am 10:00 am 12:00 pm 2:00 pm 4:00 pm 6:00 pm 182.5 185 187.5 190 192.5 195 197.5 200 Previous Close $184.47 Key Data Bid Price and Ask Price The bid &amp;... $203.93USD 2.77 1.38% PRE MARKET 4:37 AM EDT 06/01/23 $203.20 -0.73 -0.36% PRE MARKET Vol 67,058 Volume 150,711,736 65 Day Avg Vol 133,130,503 1 Day Range 195.12 - 203.95 52 Week Range 101.81 -... Discover historical prices for TSLA stock on Yahoo Finance. View daily, weekly or monthly format back to when Tesla, Inc. stock was issued. ﻿ intraday 1w 1m 6m ytd 1y 3y 5y max Mountain-Chart Date Compare with Remove all Compare with up to 5 Stocks On Tuesday 05/30/2023 the closing price of the Tesla share was $201.16 on NAS....
</pre></div>
</div>
<p>Let’s load all the modules needed and instantiate our endpoint with the ChatGPT API:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.agents</span> <span class="kn">import</span> <span class="n">load_tools</span>
<span class="kn">from</span> <span class="nn">langchain.agents</span> <span class="kn">import</span> <span class="n">initialize_agent</span>
<span class="kn">from</span> <span class="nn">langchain.agents</span> <span class="kn">import</span> <span class="n">AgentType</span>
<span class="kn">from</span> <span class="nn">langchain.chat_models</span> <span class="kn">import</span> <span class="n">ChatOpenAI</span>

<span class="n">llm</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>We now create the tool that ChatGPT will have access to:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.tools</span> <span class="kn">import</span> <span class="n">BaseTool</span><span class="p">,</span> <span class="n">StructuredTool</span><span class="p">,</span> <span class="n">Tool</span><span class="p">,</span> <span class="n">tool</span>


<span class="n">duckduckgo_tool</span> <span class="o">=</span> <span class="n">Tool</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;DuckDuckGo Search&#39;</span><span class="p">,</span>
    <span class="n">func</span><span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">run</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Useful for when you need to do a search on the internet to find information that another tool can&#39;t find. be specific with your input.&quot;</span>
<span class="p">)</span>

<span class="n">tools</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">duckduckgo_tool</span>
<span class="p">]</span>
</pre></div>
</div>
<p>We can now instantiate our <code class="docutils literal notranslate"><span class="pre">Agent</span></code> (ie. ChatGPT, with a specific ReAct prompt template):</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.agents</span> <span class="kn">import</span> <span class="n">initialize_agent</span>

<span class="n">zero_shot_agent</span> <span class="o">=</span> <span class="n">initialize_agent</span><span class="p">(</span>
    <span class="n">agent</span><span class="o">=</span><span class="n">AgentType</span><span class="o">.</span><span class="n">CHAT_ZERO_SHOT_REACT_DESCRIPTION</span><span class="p">,</span>
    <span class="n">tools</span><span class="o">=</span><span class="n">tools</span><span class="p">,</span> 
    <span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">max_iterations</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">handle_parsing_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Let’s have a test:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">zero_shot_agent</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;When was Barak Obama born?&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>ChatGPT asks himself this question:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt; Entering new AgentExecutor chain...
Question: When was Barak Obama born?
Thought: I don&#39;t know the answer to this question off the top of my head, so I will need to use a search engine to find the answer.
</pre></div>
</div>
<p>The following action is decided:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Action</span><span class="p">:</span>
<span class="p">{</span>
  <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;DuckDuckGo Search&quot;</span><span class="p">,</span>
  <span class="s2">&quot;action_input&quot;</span><span class="p">:</span> <span class="s2">&quot;Barack Obama birthdate&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following observation from the web search:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Observation</span><span class="p">:</span> <span class="n">August</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1961</span> <span class="p">(</span><span class="n">age</span> <span class="mi">61</span><span class="p">)</span> <span class="n">Honolulu</span> <span class="n">Hawaii</span> <span class="n">Title</span> <span class="o">/</span> <span class="n">Office</span><span class="p">:</span> <span class="n">presidency</span> <span class="n">of</span> <span class="n">the</span> <span class="n">United</span> <span class="n">States</span> <span class="n">of</span> <span class="n">America</span> <span class="p">(</span><span class="mi">2009</span><span class="o">-</span><span class="mi">2017</span><span class="p">),</span> <span class="n">United</span> <span class="n">States</span> <span class="n">United</span> <span class="n">States</span> <span class="n">Senate</span> <span class="p">(</span><span class="mi">2005</span><span class="o">-</span><span class="mi">2008</span><span class="p">),</span> <span class="n">United</span> <span class="n">States</span> <span class="o">...</span> <span class="p">(</span><span class="n">Show</span> <span class="n">more</span><span class="p">)</span> <span class="n">Political</span> <span class="n">Affiliation</span><span class="p">:</span> <span class="n">Democratic</span> <span class="n">Party</span> <span class="n">Awards</span> <span class="n">And</span> <span class="n">Honors</span><span class="p">:</span> <span class="n">Barack</span> <span class="n">Hussein</span> <span class="n">Obama</span> <span class="n">II</span> <span class="p">(</span><span class="o">/</span> <span class="n">b</span> <span class="n">ə</span> <span class="n">ˈ</span> <span class="n">r</span> <span class="n">ɑː</span> <span class="n">k</span> <span class="n">h</span> <span class="n">uː</span> <span class="n">ˈ</span> <span class="n">s</span> <span class="n">eɪ</span> <span class="n">n</span> <span class="n">oʊ</span> <span class="n">ˈ</span> <span class="n">b</span> <span class="n">ɑː</span> <span class="n">m</span> <span class="n">ə</span> <span class="o">/</span> <span class="n">bə</span><span class="o">-</span><span class="n">RAHK</span> <span class="n">hoo</span><span class="o">-</span><span class="n">SAYN</span> <span class="n">oh</span><span class="o">-</span><span class="n">BAH</span><span class="o">-</span><span class="n">mə</span><span class="p">;</span> <span class="n">born</span> <span class="n">August</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1961</span><span class="p">)</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">American</span> <span class="n">politician</span> <span class="n">who</span> <span class="n">served</span> <span class="k">as</span> <span class="n">the</span> <span class="mi">44</span><span class="n">th</span> <span class="n">president</span> <span class="n">of</span> <span class="n">the</span> <span class="n">United</span> <span class="n">States</span> <span class="kn">from</span> <span class="mi">2009</span> <span class="n">to</span> <span class="mf">2017.</span> <span class="n">A</span> <span class="n">member</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Democratic</span> <span class="n">Party</span><span class="p">,</span> <span class="n">he</span> <span class="n">was</span> <span class="n">the</span> <span class="n">first</span> <span class="n">African</span><span class="o">-</span><span class="n">American</span> <span class="n">president</span> <span class="n">of</span> <span class="n">the</span> <span class="n">United</span> <span class="n">States</span><span class="o">.</span> <span class="n">Obama</span> <span class="n">previously</span> <span class="n">served</span> <span class="k">as</span> <span class="n">a</span> <span class="n">U</span><span class="o">.</span><span class="n">S</span><span class="o">.</span> <span class="n">senator</span> <span class="n">representing</span> <span class="n">Illinois</span> <span class="o">...</span> <span class="n">Barack</span> <span class="n">Hussein</span> <span class="n">Obama</span><span class="p">,</span> <span class="n">the</span> <span class="mi">44</span><span class="n">th</span> <span class="ow">and</span> <span class="n">first</span> <span class="n">African</span><span class="o">-</span><span class="n">American</span> <span class="n">President</span> <span class="n">of</span> <span class="n">the</span> <span class="n">United</span> <span class="n">States</span><span class="p">,</span> <span class="n">served</span> <span class="kn">from</span> <span class="mi">2008</span> <span class="n">until</span> <span class="mf">2016.</span> <span class="ow">is</span> <span class="n">celebrating</span> <span class="n">his</span> <span class="mi">60</span><span class="n">th</span> <span class="n">Birthday</span> <span class="ow">in</span> <span class="mf">2021.</span> <span class="o">...</span> <span class="n">Birth</span> <span class="n">date</span><span class="p">:</span> <span class="n">August</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">1961.</span> <span class="n">Age</span><span class="p">:</span> <span class="mf">61.</span> <span class="n">Zodiac</span> <span class="n">Sign</span><span class="p">:</span> <span class="n">Leo</span><span class="o">.</span> <span class="n">Background</span><span class="o">.</span> <span class="n">Barack</span> <span class="n">Obama</span> <span class="n">was</span> <span class="n">the</span> <span class="n">first</span> <span class="n">African</span> <span class="n">American</span> <span class="n">president</span> <span class="n">elected</span> <span class="k">as</span> <span class="n">the</span> <span class="mi">44</span><span class="n">th</span> <span class="n">president</span> <span class="n">of</span> <span class="n">the</span> <span class="n">United</span> <span class="n">States</span> <span class="n">of</span> <span class="o">...</span> <span class="n">Politics</span> <span class="n">On</span> <span class="n">Barack</span> <span class="n">Obama</span><span class="s1">&#39;s 61st Birthday, He Remembers His Late Mother — and Reveals New Project to Honor Her Former President Obama announced the Ann Dunham Water Garden in honor of his... August 4, 2022 at 2:09 PM · 3 min read. barack Obama in hawaii as a child. Courtesy The Obama Foundation From left: former President Barack Obama with his mother, Ann Dunham, in Hawaii in the &#39;</span><span class="mi">60</span><span class="n">s</span><span class="o">.</span> <span class="n">Barack</span> <span class="n">Obama</span> <span class="ow">is</span> <span class="n">celebrating</span> <span class="n">his</span> <span class="mi">61</span><span class="n">st</span> <span class="n">birthday</span> <span class="n">by</span> <span class="n">naming</span> <span class="n">a</span> <span class="n">new</span> <span class="n">addition</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Obama</span> <span class="n">Presidential</span> <span class="n">Center</span> <span class="ow">in</span> <span class="n">Chicago</span> <span class="n">after</span> <span class="n">his</span> <span class="n">mother</span><span class="p">,</span> <span class="n">Ann</span> <span class="n">Dunham</span><span class="o">.</span>
</pre></div>
</div>
<p>And the thought is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Thought</span><span class="p">:</span><span class="n">The</span> <span class="n">answer</span> <span class="n">to</span> <span class="n">the</span> <span class="n">question</span> <span class="s2">&quot;When was Barack Obama born?&quot;</span> <span class="ow">is</span> <span class="n">August</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">1961.</span> 
<span class="n">Final</span> <span class="n">Answer</span><span class="p">:</span> <span class="n">August</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">1961.</span>
</pre></div>
</div>
<p>The chain-of-thoughts if finished:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">Finished</span> <span class="n">chain</span><span class="o">.</span>
<span class="n">August</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">1961.</span>
</pre></div>
</div>
</section>
<section id="emissions-extraction-with-chatgpt">
<h2>Emissions Extraction with ChatGPT<a class="headerlink" href="#emissions-extraction-with-chatgpt" title="Permalink to this headline">#</a></h2>
<p>With the Information Retrieval with the ReAct tool, you know have a toolkit you to test to retrieve emisions with ChatGPT.</p>
<p>Let’s download a dataset with emissions for a handful of stocks:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://github.com/shokru/carbon_emissions/blob/main/data_fin.xlsx?raw=true&#39;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Company&quot;</span><span class="p">:</span><span class="s2">&quot;Symbol&quot;</span><span class="p">},</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">payload</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s1">&#39;https://en.wikipedia.org/wiki/List_of_S%26P_500_companies&#39;</span><span class="p">)</span>
<span class="n">first_table</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">first_table</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s2">&quot;Symbol&quot;</span><span class="p">,</span><span class="s2">&quot;Security&quot;</span><span class="p">,</span><span class="s2">&quot;GICS Sector&quot;</span><span class="p">,</span><span class="s2">&quot;GICS Sub-Industry&quot;</span><span class="p">]],</span> <span class="n">how</span> <span class="o">=</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">on</span> <span class="o">=</span> <span class="s2">&quot;Symbol&quot;</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Security&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;AT&amp;T&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Apple Inc.&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Bank of America&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Boeing&#39;</span><span class="p">,</span>
 <span class="s1">&#39;CVS Health&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Chevron Corporation&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Cisco&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Citigroup&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Disney&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Dominion Energy&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ExxonMobil&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Ford Motor Company&#39;</span><span class="p">,</span>
 <span class="s1">&#39;General Electric&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Home Depot (The)&#39;</span><span class="p">,</span>
 <span class="s1">&#39;IBM&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Intel&#39;</span><span class="p">,</span>
 <span class="s1">&#39;JPMorgan Chase&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Johnson &amp; Johnson&#39;</span><span class="p">,</span>
 <span class="s2">&quot;Kellogg&#39;s&quot;</span><span class="p">,</span>
 <span class="s1">&#39;McKesson&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Merck &amp; Co.&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Microsoft&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Oracle Corporation&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Pfizer&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Procter &amp; Gamble&#39;</span><span class="p">,</span>
 <span class="s1">&#39;United Parcel Service&#39;</span><span class="p">,</span>
 <span class="s1">&#39;UnitedHealth Group&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Verizon&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Walmart&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Wells Fargo&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>Let’s try to retrieve emissions data for those companies, and compare your results with the emissions in the dataset!</p>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="portfolio_alignment.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Portfolio Alignment</p>
      </div>
    </a>
    <a class="right-next"
       href="self_decarbonization.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Net Zero Backtesting</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#information-retrieval-with-the-react-framework">Information Retrieval with the ReAct Framework</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#emissions-extraction-with-chatgpt">Emissions Extraction with ChatGPT</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner">
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Thomas Lorans
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022, Thomas Lorans.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div></div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>